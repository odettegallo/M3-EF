@use "../abstracts/variables" as *;
@use "../base/estilo";

.contact-form-section {
    display: flex;
    justify-content: center;
    align-items: center; // Centra verticalmente el contenedor del formulario
    min-height: 100vh; // Para que ocupe al menos la altura de la ventana
    padding: $form-spacing-xl $form-spacing-md; // Padding adaptable
    background-color: $form-section-bg; // Un fondo claro para el minimalismo
    background-image: url('https://tse1.mm.bing.net/th/id/OIP.NTr6sbUF43pbtBwzfbUSpAHaEO?r=0&rs=1&pid=ImgDetMain&o=7&rm=3');
    box-sizing: border-box;
}

.contact-form-container {
    background-color: $form-container-bg; // Fondo blanco puro
    border: $form-container-border-color; // Borde muy sutil
    border-radius: $form-border-radius-lg; // Bordes suavemente redondeados
    padding: $form-spacing-xl; // Espaciado interno generoso
    box-shadow: $form-container-shadow; // Sombra muy discreta
    max-width: 500px; // Ancho máximo definido
    width: 100%; // Ocupa todo el ancho disponible hasta el max-width
    box-sizing: border-box;
    text-align: center; // Centra el texto principal

    .contact-form__title {
        color: $form-text-color-dark;
        font-family: $metrics-title-font; // Usa la fuente para títulos
        font-size: $form-font-size-xxl; // Tamaño de título grande
        font-weight: $font-weight-bold;
        margin-bottom: $form-spacing-sm; // Espacio inferior
        line-height: 1.2;
    }

    .contact-form__description {
        color: $form-text-color-light; // Color de texto más suave
        font-family: $metrics-general-font; // Fuente principal para descripciones
        font-size: $form-font-size-base;
        line-height: 1.6; // Mayor interlineado para legibilidad
        margin-bottom: $form-spacing-xl; // Espacio generoso antes del formulario
    }
}

/* --- Estilos del Formulario en sí --- */
.contact-form {
    display: flex;
    flex-wrap: wrap; // Permite que los elementos se envuelvan
    gap: $form-spacing-md; // Espacio entre los grupos de formulario

    .form-group {
        display: flex;
        flex-direction: column;
        // Calcula el ancho para 2 columnas, ajustando por el gap
        flex: 1 1 calc(50% - #{$form-spacing-md / 2});
        min-width: 260px; // Evita que los campos se hagan muy pequeños

        &--full-width {
            flex: 1 1 100%; // Ocupa todo el ancho disponible
        }
    }

    .form-label {
        display: block;
        text-align: left;
        margin-bottom: $form-spacing-xxs; // Espacio pequeño entre label y input
        color: $form-text-color-dark;
        font-family: $metrics-general-font;
        font-size: $form-font-size-sm; // Tamaño de fuente para labels
        font-weight: $font-weight-regular;
    }

    // Usamos las clases de Bootstrap .form-control y .invalid-feedback
    // No necesitamos redefinir form-input y form-textarea si Bootstrap ya los maneja bien
    // Pero si quieres un estilo personalizado, puedes sobrescribirlos.
    // Aquí se asume que las clases de Bootstrap ya están aplicadas en el HTML
    .form-control { // Estilo para los inputs y textareas de Bootstrap
        width: 100%;
        padding: $form-spacing-xs $form-spacing-sm; // Padding interno
        border: 1px solid $form-input-border-color; // Borde claro
        border-radius: $form-border-radius-sm; // Bordes ligeramente redondeados
        font-family: $metrics-general-font;
        font-size: $form-font-size-base;
        color: $form-text-color-dark;
        background-color: $form-input-bg; // Fondo muy claro para los campos
        box-sizing: border-box; // Incluye padding y borde en el ancho total
        transition: $form-transition-ease; // Transición suave para los estados

        &::placeholder {
            color: $form-placeholder-color; // Color de placeholder más oscuro pero sutil
            font-weight: $font-weight-light;
        }

        &:focus {
            outline: none; // Quita el outline por defecto
            border-color: $form-focus-border-color; // Borde de color secundario al enfocar
            box-shadow: 0 0 0 3px rgba($form-focus-border-color, 0.2); // Sombra sutil con el color secundario
            background-color: $form-container-bg; // Fondo blanco al enfocar
        }
    }

    textarea.form-control { // Estilo específico para textareas
        resize: vertical; // Permite solo redimensionar verticalmente
        min-height: 120px; // Altura mínima un poco más generosa
    }

    .invalid-feedback { // Estilo para los mensajes de error de Bootstrap
        text-align: left;
        font-size: $form-font-size-xs;
        color: #dc3545; // Color de error estándar de Bootstrap
        margin-top: $form-spacing-xxs;
    }
}

/* --- Estilos del Botón de Enviar --- */
.submit-button {
    background-color: $form-button-bg; // Color principal oscuro
    color: $form-button-text-color; // Texto blanco
    padding: $form-spacing-sm $form-spacing-lg; // Padding generoso
    border: none;
    border-radius: $form-border-radius-sm;
    cursor: pointer;
    font-family: $metrics-general-font;
    font-size: $form-font-size-md; // Tamaño de fuente del botón
    font-weight: $font-weight-semibold; // Peso de fuente
    transition: $form-transition-ease; // Transición para hover y active
    width: auto; // Ancho automático según el contenido
    margin-top: $form-spacing-md; // Espacio superior
    align-self: flex-end; // Alinea el botón a la derecha dentro del flex container
    letter-spacing: 0.5px; // Pequeño espaciado entre letras

    &:hover {
        background-color: darken($form-button-bg, 10%); // Oscurece al pasar el ratón
        transform: translateY(-2px); // Pequeño efecto de elevación
        box-shadow: $form-button-shadow-hover; // Sombra al hacer hover
    }

    &:active {
        background-color: lighten($form-button-bg, 10%); // Aclara un poco al hacer clic
        transform: translateY(0);
        box-shadow: none;
    }
}

/* --- Estilos del Toast de Bootstrap --- */
.toast-container {
    // Estas propiedades centrarán el toast en la pantalla, sobrescribiendo el posicionamiento de Bootstrap
    position: fixed !important; // Usa fixed para que se mantenga en el viewport
    top: 50% !important;
    left: 50% !important;
    transform: translate(-50%, -50%) !important;
    z-index: 1080; // Asegura que esté por encima de otros elementos de Bootstrap (ej. modales)
    // Ajustes para que el toast sea más legible
    .toast {
        background-color: rgba(33, 136, 56, 0.9); // Un verde más oscuro y opaco para el éxito
        color: $text-white;
        border-radius: $form-border-radius-md;
        box-shadow: $form-container-shadow;

        .toast-body {
            font-family: $metrics-general-font;
            font-size: $form-font-size-base;
        }

        .btn-close-white {
            filter: brightness(0) invert(1); // Asegura que el icono de cerrar sea blanco
        }
    }
}


/* --- Media Queries para la Responsividad del Formulario --- */
@media (max-width: 768px) {
    .contact-form-container {
        padding: $form-spacing-xl $form-spacing-md;
    }

    .contact-form .form-group {
        flex: 1 1 100%; // Todos los campos a una sola columna
        min-width: unset; // Reinicia el min-width
    }

    .contact-form__title {
        font-size: $form-font-size-xl; // Reduce el tamaño del título
    }

    .contact-form__description {
        font-size: $form-font-size-sm; // Reduce el tamaño de la descripción
    }

    .submit-button {
        width: 100%; // Botón al 100% de ancho en tablet
        align-self: center; // Centra el botón
    }
}

@media (max-width: 480px) {
    .contact-form-section {
        padding: $form-spacing-md $form-spacing-sm;
    }

    .contact-form-container {
        padding: $form-spacing-lg $form-spacing-md; // Menor padding en móviles
        border-radius: $form-border-radius-none; // Quita el redondeado en pantallas muy pequeñas
        box-shadow: none; // Quita la sombra en pantallas muy pequeñas

        .contact-form__title {
            font-size: $form-font-size-lg; // Aún más pequeño
            margin-bottom: $form-spacing-xs;
        }

        .contact-form__description {
            font-size: $form-font-size-sm;
            margin-bottom: $form-spacing-md;
        }
    }

    .contact-form {
        gap: $form-spacing-sm; // Reduce el espacio entre campos
    }

    .form-control { // Aplica a inputs y textareas
        padding: $form-spacing-xs; // Menor padding en campos
        font-size: $form-font-size-sm;
    }

    .submit-button {
        padding: $form-spacing-sm $form-spacing-md;
        font-size: $form-font-size-base;
    }
}